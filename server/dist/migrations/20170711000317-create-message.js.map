{"version":3,"sources":["../../server/migrations/20170711000317-create-message.js"],"names":["module","exports","up","queryInterface","Sequelize","query","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","content","STRING","priority","ENUM","values","userid","onDelete","references","model","key","as","groupid","read","BOOLEAN","defaultValue","createdAt","DATE","updatedAt","down","dropTable"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAACC,cAAD,EAAiBC,SAAjB,EAA+B;AACjC,QAAMC,QAAQF,eAAeG,WAAf,CAA2B,UAA3B,EAAuC;AACnDC,UAAI;AACFC,mBAAW,KADT;AAEFC,uBAAe,IAFb;AAGFC,oBAAY,IAHV;AAIFC,cAAMP,UAAUQ;AAJd,OAD+C;AAOnDC,eAAS;AACPF,cAAMP,UAAUU,MADT;AAEPN,mBAAW;AAFJ,OAP0C;AAWnDO,gBAAU;AACRJ,cAAMP,UAAUY,IADR;AAERC,gBAAQ,CAAC,QAAD,EAAW,QAAX,EAAqB,UAArB;AAFA,OAXyC;AAenDC,cAAQ;AACNP,cAAMP,UAAUQ,OADV;AAENO,kBAAU,SAFJ;AAGNC,oBAAY;AACVC,iBAAO,OADG;AAEVC,eAAK,IAFK;AAGVC,cAAI;AAHM;AAHN,OAf2C;AAwBnDC,eAAS;AACPb,cAAMP,UAAUQ,OADT;AAEPO,kBAAU,SAFH;AAGPC,oBAAY;AACVC,iBAAO,QADG;AAEVC,eAAK,IAFK;AAGVC,cAAI;AAHM;AAHL,OAxB0C;AAiCnDE,YAAM;AACJd,cAAMP,UAAUsB,OADZ;AAEJC,sBAAc;AAFV,OAjC6C;AAqCnDC,iBAAW;AACTpB,mBAAW,KADF;AAETG,cAAMP,UAAUyB;AAFP,OArCwC;AAyCnDC,iBAAW;AACTtB,mBAAW,KADF;AAETG,cAAMP,UAAUyB;AAFP;AAzCwC,KAAvC,CAAd;;AA+CA,WAAOxB,KAAP;AACD,GAlDc;AAmDf0B,QAAM,cAAC5B,cAAD,CAAgB,iBAAhB,EAAsC;AAC1C,QAAME,QAAQF,eAAe6B,SAAf,CAAyB,UAAzB,CAAd;;AAEA,WAAO3B,KAAP;AACD;AAvDc,CAAjB","file":"20170711000317-create-message.js","sourcesContent":["module.exports = {\n  up: (queryInterface, Sequelize) => {\n    const query = queryInterface.createTable('messages', {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER\n      },\n      content: {\n        type: Sequelize.STRING,\n        allowNull: false\n      },\n      priority: {\n        type: Sequelize.ENUM,\n        values: ['Normal', 'Urgent', 'Critical']\n      },\n      userid: {\n        type: Sequelize.INTEGER,\n        onDelete: 'CASCADE',\n        references: {\n          model: 'users',\n          key: 'id',\n          as: 'userId',\n        },\n      },\n      groupid: {\n        type: Sequelize.INTEGER,\n        onDelete: 'CASCADE',\n        references: {\n          model: 'groups',\n          key: 'id',\n          as: 'groupId',\n        },\n      },\n      read: {\n        type: Sequelize.BOOLEAN,\n        defaultValue: false\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE\n      }\n    });\n\n    return query;\n  },\n  down: (queryInterface /* , Sequelize */) => {\n    const query = queryInterface.dropTable('messages');\n\n    return query;\n  }\n};\n"]}