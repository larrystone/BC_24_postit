{"version":3,"sources":["../../server/controllers/groups.js"],"names":["group","groupUser","group_user","module","exports","createGroup","req","res","newGroup","create","name","body","then","result","groupid","id","userid","session","user","admin","status","send","catch","error","addGroupUser","newGroupUser","params","groupId"],"mappings":";;AAAA;;;;;;AAEA,IAAMA,QAAQ,iBAAOA,KAArB;AACA,IAAMC,YAAY,iBAAOC,UAAzB;;AAEAC,OAAOC,OAAP,CAAeC,WAAf,GAA6B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzC,MAAMC,WAAWR,MACdS,MADc,CACP;AACNC,UAAMJ,IAAIK,IAAJ,CAASD;AADT,GADO,EAIdE,IAJc,CAIT,UAACC,MAAD,EAAY;AAChBZ,cAAUQ,MAAV,CAAiB;AACfK,eAASD,OAAOE,EADD;AAEfC,cAAQV,IAAIW,OAAJ,CAAYC,IAAZ,CAAiBH,EAFV;AAGfI,aAAO;AAHQ,KAAjB;AAKAZ,QAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,MAArB;AACD,GAXc,EAYdS,KAZc,CAYR;AAAA,WAASf,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,KAArB,CAAT;AAAA,GAZQ,CAAjB;;AAcA,SAAOf,QAAP;AACD,CAhBD;;AAkBAL,OAAOC,OAAP,CAAeoB,YAAf,GAA8B,UAAClB,GAAD,EAAMC,GAAN,EAAc;AAC1C,MAAMkB,eAAexB,UAClBQ,MADkB,CACX;AACNK,aAASR,IAAIoB,MAAJ,CAAWC,OADd;AAENX,YAAQV,IAAIK,IAAJ,CAASK;AAFX,GADW,EAKlBJ,IALkB,CAKb;AAAA,WAAUL,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,MAArB,CAAV;AAAA,GALa,EAMlBS,KANkB,CAMZ;AAAA,WAASf,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,KAArB,CAAT;AAAA,GANY,CAArB;;AAQA,SAAOE,YAAP;AACD,CAVD","file":"groups.js","sourcesContent":["import models from '../models';\n\nconst group = models.group;\nconst groupUser = models.group_user;\n\nmodule.exports.createGroup = (req, res) => {\n  const newGroup = group\n    .create({\n      name: req.body.name\n    })\n    .then((result) => {\n      groupUser.create({\n        groupid: result.id,\n        userid: req.session.user.id,\n        admin: true\n      });\n      res.status(201).send(result);\n    })\n    .catch(error => res.status(400).send(error));\n\n  return newGroup;\n};\n\nmodule.exports.addGroupUser = (req, res) => {\n  const newGroupUser = groupUser\n    .create({\n      groupid: req.params.groupId,\n      userid: req.body.userid,\n    })\n    .then(result => res.status(201).send(result))\n    .catch(error => res.status(400).send(error));\n\n  return newGroupUser;\n};\n"]}