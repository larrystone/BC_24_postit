{"version":3,"sources":["../../server/controllers/groups.js"],"names":["group","groupUser","group_user","module","exports","createGroup","req","res","newGroup","create","name","body","then","result","groupid","id","userid","session","user","admin","status","send","catch","title","message","log","error","addGroupUser","newGroupUser","params","groupId"],"mappings":";;AAAA;;;;;;AAEA,IAAMA,QAAQ,iBAAOA,KAArB;AACA,IAAMC,YAAY,iBAAOC,UAAzB;;AAEAC,OAAOC,OAAP,CAAeC,WAAf,GAA6B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzC,MAAMC,WAAWR,MACdS,MADc,CACP;AACNC,UAAMJ,IAAIK,IAAJ,CAASD;AADT,GADO,EAIdE,IAJc,CAIT,UAACC,MAAD,EAAY;AAChBZ,cAAUQ,MAAV,CAAiB;AACfK,eAASD,OAAOE,EADD;AAEfC,cAAQV,IAAIW,OAAJ,CAAYC,IAAZ,CAAiBH,EAFV;AAGfI,aAAO;AAHQ,KAAjB;AAKAZ,QAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,MAArB;AACD,GAXc,EAYdS,KAZc,CAYR;AAAA,WAASf,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,OAAO,SAAT;AACnCC,uGADmC;AAGnCC,WAAKC,KAH8B,EAArB,CAAT;AAAA,GAZQ,CAAjB;;AAiBA,SAAOlB,QAAP;AACD,CAnBD;;AAqBAL,OAAOC,OAAP,CAAeuB,YAAf,GAA8B,UAACrB,GAAD,EAAMC,GAAN,EAAc;AAC1C,MAAMqB,eAAe3B,UAClBQ,MADkB,CACX;AACNK,aAASR,IAAIuB,MAAJ,CAAWC,OADd;AAENd,YAAQV,IAAIK,IAAJ,CAASK;AAFX,GADW,EAKlBJ,IALkB,CAKb;AAAA,WAAUL,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,MAArB,CAAV;AAAA,GALa,EAMlBS,KANkB,CAMZ,UAACI,KAAD,EAAW;AAChBnB,QAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,OAAO,SAAT;AACnBC,mHADmB;AAGnBC,WAAKC,KAHc,EAArB;AAID,GAXkB,CAArB;;AAaA,SAAOE,YAAP;AACD,CAfD","file":"groups.js","sourcesContent":["import models from '../models';\n\nconst group = models.group;\nconst groupUser = models.group_user;\n\nmodule.exports.createGroup = (req, res) => {\n  const newGroup = group\n    .create({\n      name: req.body.name\n    })\n    .then((result) => {\n      groupUser.create({\n        groupid: result.id,\n        userid: req.session.user.id,\n        admin: true\n      });\n      res.status(201).send(result);\n    })\n    .catch(error => res.status(400).send({ title: 'Oops...',\n      message: `Error Creating group, \nmight be the group already exists. See log below for more info`,\n      log: error }));\n\n  return newGroup;\n};\n\nmodule.exports.addGroupUser = (req, res) => {\n  const newGroupUser = groupUser\n    .create({\n      groupid: req.params.groupId,\n      userid: req.body.userid,\n    })\n    .then(result => res.status(201).send(result))\n    .catch((error) => {\n      res.status(400).send({ title: 'Oops...',\n        message: `Error adding User to group, \nmight be the user/group does not exist!. See log below for more info`,\n        log: error });\n    });\n\n  return newGroupUser;\n};\n"]}