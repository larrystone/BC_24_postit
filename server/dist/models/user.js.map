{"version":3,"sources":["../../server/models/user.js"],"names":["module","exports","sequelize","DataTypes","user","define","username","type","STRING","allowNull","unique","email","validate","isEmail","password","phone","INTEGER","last_login","DATE","classMethods","associate","models","hasMany","message","foreignKey","as","group_user"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AACzC,MAAMC,OAAOF,UAAUG,MAAV,CAAiB,MAAjB,EAAyB;AACpCC,cAAU,EAAEC,MAAMJ,UAAUK,MAAlB;AACRC,iBAAW,KADH;AAERC,cAAQ,IAFA,EAD0B;AAIpCC,WAAO,EAAEJ,MAAMJ,UAAUK,MAAlB;AACLC,iBAAW,KADN;AAELC,cAAQ,IAFH;AAGLE,gBAAU;AACRC,iBAAS;AADD;AAHL,KAJ6B;AAWpCC,cAAU,EAAEP,MAAMJ,UAAUK,MAAlB;AACRC,iBAAW;AADH,KAX0B;AAcpCM,WAAOZ,UAAUa,OAdmB;AAepCC,gBAAYd,UAAUe;AAfc,GAAzB,EAgBV;AACDC,kBAAc;AACZC,iBAAW,mBAACC,MAAD,EAAY;AACrBjB,aAAKkB,OAAL,CAAaD,OAAOE,OAApB,EAA6B;AAC3BC,sBAAY,QADe;AAE3BC,cAAI;AAFuB,SAA7B;AAIArB,aAAKkB,OAAL,CAAaD,OAAOK,UAApB,EAAgC;AAC9BF,sBAAY,QADkB,EAAhC;AAED;AARW;AADb,GAhBU,CAAb;;AA6BA,SAAOpB,IAAP;AACD,CA/BD","file":"user.js","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const user = sequelize.define('user', {\n    username: { type: DataTypes.STRING,\n      allowNull: false,\n      unique: true },\n    email: { type: DataTypes.STRING,\n      allowNull: false,\n      unique: true,\n      validate: {\n        isEmail: true,\n      }\n    },\n    password: { type: DataTypes.STRING,\n      allowNull: false,\n    },\n    phone: DataTypes.INTEGER,\n    last_login: DataTypes.DATE\n  }, {\n    classMethods: {\n      associate: (models) => {\n        user.hasMany(models.message, {\n          foreignKey: 'userId',\n          as: 'messages',\n        });\n        user.hasMany(models.group_user, {\n          foreignKey: 'userId' });\n      },\n    }\n  });\n\n  return user;\n};\n"]}